<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.17e/on/demandware.static/Sites-BathAndBodyWorks-Site/-/default/dwa58d2181/images/favicon.ico?yocs=o_"
      rel="shortcut icon"
    />
    <title>Bath & Body Works: Body Care & Home Fragrances You'll Love</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <style>
      .content {
        margin-left: 10%;
        margin-right: 10%;
      }
      .content > img {
        width: 100%;
      }
      .center {
        text-align: center;
      }
      .small-img {
        width: 100%;
      }
      .line {
        margin-left: 20%;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="content">
        <img src="./images/sign.PNG" />
        <h1>Sign In or Sign Up</h1>

        <hr />

        <div class="row">
          <div class="col">
            <h6>SIGN IN</h6>
            <p>If you already have an account with us, sign in below</p>
            <form>
              <div class="mb-3">
                <label for="email1" class="form-label">Email address</label>
                <input
                  type="email"
                  class="form-control"
                  id="email1"
                  aria-describedby="emailHelp"
                />
              </div>
              <div class="mb-3">
                <label for="Password1" class="form-label">Password</label>
                <input type="password" class="form-control" id="Password1" />
              </div>
              <!-- <div class="mb-3 form-check">
                      <input type="checkbox" class="form-check-input" id="exampleCheck1">
                      <label class="form-check-label" for="exampleCheck1">Check me out</label>
                    </div> -->
              <a href="/"
                ><button type="button" class="btn btn-dark" id="signInBtn">
                  SIGN IN
                </button></a
              >
            </form>
          </div>
          <div class="col">
            <div class="line">
              <img
                style="height: 300px; padding-left: 20px"
                src="./images/line.PNG"
              />
              <p>Questions</p>
              <p>
                Weâ€™re here for you!<br />
                Call us at 1-800-756-5005.
              </p>
            </div>
          </div>
          <div class="col">
            <h3>SIGN UP</h3>
            <p>Create an account to access the best of your favorite store</p>
            <img
              class="small-img"
              src="https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.182/on/demandware.static/-/Sites-BathAndBodyWorks-Library/default/dwf946a6ac/images/loyalty/July19/nonloyalty_5thmkt_signuptile_D.png?yocs=s_"
            />
            <a href="signUp.html"
              ><button type="button" class="btn btn-dark">
                Create An Account
              </button></a
            >
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script>
      var btn = document.getElementById("signInBtn");
      function handleSignIn(e) {
        e.preventDefault();
        var resemail = document.getElementById("email1").value;
        var respassword = document.getElementById("Password1").value;

        fetch(" http://localhost:3000/profiles", {
          method: "GET",
        })
          .then((res) => {
            return res.json();
          })
          .then((res) => {
            if (resemail && respassword) {
              var login = false;
              for (var i of res) {
                if (i.email === resemail && i.password === respassword) {
                  login = true;
                }
              }
              if (login) {
                window.location = "home.html";
              } else {
                alert("Invalid credentials");
              }
            } else {
              alert("Enter credentials to login");
            }
          });
      }
      btn.addEventListener("click", handleSignIn);
    </script>
  </body>
</html>
